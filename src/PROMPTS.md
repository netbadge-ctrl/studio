# 数据中心运维管理应用 - AI 开发提示词

本文档为“数据中心运维管理”应用提供了一系列开发提示词，旨在指导 AI 编程助手（如 Google 的 Gemini、GitHub Copilot 等）在现有代码库的基础上进行后续功能开发。

## 1. 项目概述

这是一个基于 Next.js 的 Web 应用，用于管理数据中心内的运维工单。它主要服务于两种角色：运维工程师和主管。

- **运维工程师**：可以查看分配给自己的工单，在准备阶段清点所需备件，在操作阶段根据指引完成物理设备的配置和更换，并更新设备处理状态。
- **主管**：可以查看所有工单的列表，并将工单分配给团队中的工程师。

## 2. 技术栈

- **框架**: Next.js (App Router)
- **语言**: TypeScript
- **UI**: React, ShadCN UI, Tailwind CSS
- **图标**: Lucide React
- **AI 功能**: Genkit (Google AI)
- **代码风格**: 函数式组件, Hooks

## 3. 核心功能与文件结构

- **工单数据**: 模拟数据位于 `src/lib/mock-data.ts`。所有开发都应基于 `src/lib/types.ts` 中定义的类型。
- **工程师主页 (`src/app/page.tsx`)**: 显示当前工程师的工单列表。
- **主管仪表盘 (`src/app/leader-dashboard/page.tsx`)**: 显示所有工单并提供分配功能。
- **工单详情页 (`src/app/work-orders/[id]/page.tsx`)**: 准备阶段，展示设备位置和所需备件。
- **工单操作页 (`src/app/work-orders/[id]/operate/page.tsx`)**: 操作阶段，提供设备状态流转、可视化指南和配件操作明细。

---

## 4. 开发提示词 (Prompts)

### 提示词 1：在主管仪表盘添加数据可视化图表

**目标**：增强主管仪表盘，通过图表直观展示工单的整体状态和分配情况。

**提示词**:

> “请修改主管仪表盘页面 (`src/app/leader-dashboard/page.tsx`)。在 '所有工单' 表格上方，增加两个图表卡片，左右并排布局：
> 1.  **工单状态分布**：使用 ShadCN 的 **Pie Chart**（饼图）来展示所有工单中不同状态（'待处理', '已分配', '进行中', '已完成', '已阻塞'）的占比。
> 2.  **员工任务负载**：使用 ShadCN 的 **Bar Chart**（柱状图）来展示每位员工被分配到的工单数量。X 轴是员工姓名，Y 轴是工单数量。
>
> 你需要：
> - 在 `src/components/leader-dashboard-client.tsx` 中计算图表所需的数据。
> - 使用 ShadCN UI 的 `Card` 组件来包裹每个图表。
> - 确保图表在移动设备上能正确响应，例如在小屏幕上垂直堆叠。
> - 使用 `recharts` 库（已安装）来实现图表。”

---

### 提示词 2：实现工单的创建与编辑功能

**目标**：允许主管创建新的工单或编辑现有工单。

**提示词**:

> “请为应用添加创建和编辑工单的功能。
> 1.  在主管仪表盘页面 (`src/app/leader-dashboard/page.tsx`) 的卡片标题旁，添加一个 '创建新工单' 按钮。
> 2.  点击 '创建新工单' 按钮或表格中每行的 '编辑' 按钮时，弹出一个新的对话框（Dialog）。
> 3.  在对话框中，创建一个表单，允许用户输入或编辑工单的'标题' (Input) 和'类型' (Select)。表单应使用 `react-hook-form` 和 `zod` 进行管理和校验。
> 4.  在 `src/lib/mock-data.ts` 中模拟创建和更新工单的逻辑，更新 `LeaderDashboardClient` 组件的状态以实时反映变化。
> 5.  此功能暂时不需要处理工单内的设备和备件，仅关注工单的基本信息。”

---

### 提示词 3：为操作页面添加 AI 异常诊断功能

**目标**：当工程师在操作中将设备标记为“检测异常”时，利用 AI 分析问题并提供解决方案建议。

**提示词**:

> “请为工单操作页面 (`src/components/work-order-operate-client.tsx`) 添加 AI 异常诊断功能。
> 1.  当用户点击 '标记异常' 按钮后，除了更新状态外，弹出一个对话框。
> 2.  对话框中包含一个文本区域（Textarea），让用户输入问题的详细描述，并可以上传一张问题照片。
> 3.  创建一个新的 Genkit Flow 文件 `src/ai/flows/diagnose-issue-flow.ts`。这个 Flow 接收设备型号、问题描述和图片（作为 Data URI）作为输入。
> 4.  Flow 的 Prompt 应指示 AI 扮演一个资深数据中心运维专家的角色，根据输入信息分析可能的原因，并提供一个包含'问题分析'和'建议步骤'的结构化 JSON 对象作为输出。
> 5.  在对话框中调用此 Flow，并在用户提交后，用一个加载状态（Loading Spinner）来等待 AI 的响应。
> 6.  收到响应后，在对话框内格式化并显示 AI 的诊断结果。同时，将“检测异常”状态更新到设备上。”

---

### 提示词 4：优化移动端导航体验

**目标**：在移动端视图中，将顶部导航栏转换为底部标签栏（Bottom Tab Bar），以提升单手操作的便利性。

**提示词**:

> “请优化应用的移动端导航体验。
> 1.  修改主布局文件 `src/app/layout.tsx` 和导航组件 `src/components/main-nav.tsx`。
> 2.  在屏幕宽度小于 768px (md 断点) 时，隐藏顶部的链接导航，并显示一个固定在底部的标签栏。
> 3.  底部标签栏应包含两个图标和文本链接：'我的任务' 和 '主管仪表盘'。
> 4.  当前激活的标签页应有明显的高亮样式。
> 5.  确保页面内容不会被底部标签栏遮挡（例如，为 `main` 元素添加适当的 `padding-bottom`）。
> 6.  顶部的 Logo、用户头像和汉堡菜单按钮可以保留。”